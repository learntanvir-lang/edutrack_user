
{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user in the EduTrack application.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the User entity."
        },
        "username": {
          "type": "string",
          "description": "The user's username."
        },
        "displayName": {
          "type": "string",
          "description": "The user's display name."
        },
        "email": {
          "type": "string",
          "description": "The user's email address.",
          "format": "email"
        },
        "firstName": {
          "type": "string",
          "description": "The user's first name."
        },
        "lastName": {
          "type": "string",
          "description": "The user's last name."
        }
      },
      "required": [
        "id",
        "username",
        "displayName",
        "email"
      ]
    },
    "Exam": {
      "title": "Exam",
      "type": "object",
      "description": "Represents an exam.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "categoryId": { "type": "string" },
        "subjectIds": { "type": "array", "items": { "type": "string" } },
        "chapterIds": { "type": "array", "items": { "type": "string" } },
        "date": { "type": "string", "format": "date-time" },
        "createdAt": { "type": "string", "format": "date-time" },
        "isCompleted": { "type": "boolean" },
        "marksObtained": { "type": ["number", "null"] },
        "totalMarks": { "type": ["number", "null"] },
        "examPeriodTitle": { "type": ["string", "null"] },
        "startDate": { "type": ["string", "null"], "format": "date-time" },
        "endDate": { "type": ["string", "null"], "format": "date-time" },
        "isEligible": { "type": "boolean" },
        "showEligibility": { "type": "boolean" },
        "examFee": { "type": ["number", "null"] },
        "isFeePaid": { "type": "boolean" }
      },
      "required": ["id", "name", "date", "createdAt", "isCompleted"]
    },
    "ExamCategory": {
        "title": "Exam Category",
        "type": "object",
        "description": "Represents a category for exams with a specific order.",
        "properties": {
            "id": { "type": "string" },
            "name": { "type": "string" },
            "order": { "type": "number" }
        },
        "required": ["id", "name", "order"]
    },
    "Subject": {
      "title": "Subject",
      "type": "object",
      "description": "Represents a subject.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "code": { "type": "string" },
        "papers": {
          "type": "array",
          "items": { "$ref": "#/entities/Paper" }
        },
        "showOnDashboard": {
            "type": "boolean",
            "description": "Whether to show the subject on the dashboard progress overview."
        }
      },
      "required": ["id", "name", "papers"]
    },
    "Paper": {
      "title": "Paper",
      "type": "object",
      "description": "Represents a paper within a subject.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "chapters": {
          "type": "array",
          "items": { "$ref": "#/entities/Chapter" }
        }
      },
      "required": ["id", "name", "chapters"]
    },
    "Chapter": {
      "title": "Chapter",
      "type": "object",
      "description": "Represents a chapter within a paper.",
      "properties": {
        "id": { "type": "string" },
        "number": { "type": "string" },
        "name": { "type": "string" },
        "isCompleted": { "type": "boolean" },
        "progressItems": {
          "type": "array",
          "items": { "$ref": "#/entities/ProgressItem" }
        },
        "resourceLinks": {
          "type": "array",
          "items": { "$ref": "#/entities/ResourceLink" }
        }
      },
      "required": ["id", "name", "isCompleted", "progressItems", "resourceLinks"]
    },
    "TodoItem": {
        "title": "To-do Item",
        "type": "object",
        "properties": {
            "id": { "type": "string" },
            "text": { "type": "string" },
            "completed": { "type": "boolean" }
        },
        "required": ["id", "text", "completed"]
    },
    "ProgressItem": {
      "title": "Progress Item",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "type": { "type": "string", "enum": ["counter", "todo"] },
        "icon": { "type": "string", "description": "The name of the lucide-react icon to display." },
        "completed": { "type": "number" },
        "total": { "type": "number" }
      },
      "required": ["id", "name", "type", "completed", "total"]
    },
    "ResourceLink": {
      "title": "Resource Link",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "url": { "type": "string", "format": "uri" },
        "description": { "type": "string" },
        "icon": { "type": "string", "description": "The name of the lucide-react icon to display." }
      },
      "required": ["id", "url", "description"]
    },
    "Resource": {
      "title": "Resource",
      "type": "object",
      "description": "Represents an important resource or collection of links.",
      "properties": {
        "id": { "type": "string" },
        "title": { "type": "string" },
        "description": { "type": "string" },
        "imageUrl": { "type": "string", "format": "uri" },
        "links": {
          "type": "array",
          "items": { "$ref": "#/entities/ResourceLink" }
        },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "title", "imageUrl", "createdAt"]
    },
    "TimeLog": {
        "title": "Time Log",
        "type": "object",
        "description": "Represents a single time-logged session for a task.",
        "properties": {
          "id": { "type": "string" },
          "startTime": { "type": "string", "format": "date-time" },
          "endTime": { "type": "string", "format": "date-time" }
        },
        "required": ["id", "startTime", "endTime"]
    },
    "StudyTask": {
        "title": "Study Task",
        "type": "object",
        "description": "Represents a single task in the daily study plan.",
        "properties": {
          "id": { "type": "string" },
          "title": { "type": "string" },
          "description": { "type": ["string", "null"] },
          "isCompleted": { "type": "boolean" },
          "date": { "type": "string", "format": "date", "description": "The date for the task in YYYY-MM-DD format." },
          "startTime": { "type": ["string", "null"], "description": "The start time for the task in HH:mm format." },
          "endTime": { "type": ["string", "null"], "description": "The end time for the task in HH:mm format." },
          "color": { "type": ["string", "null"], "description": "A hex color code for the task." },
          "icon": { "type": ["string", "null"], "description": "An icon name for the task." },
          "priority": { "type": "number" },
          "category": { "type": "string" },
          "subcategory": { "type": ["string", "null"] },
          "timeLogs": {
            "type": "array",
            "items": { "$ref": "#/entities/TimeLog" }
          },
          "activeTimeLogId": { "type": ["string", "null"] },
          "originalId": { "type": ["string", "null"] },
          "isArchived": { "type": "boolean" }
        },
        "required": ["id", "title", "isCompleted", "date", "priority", "category", "timeLogs"]
    },
    "UserSettings": {
        "title": "User Settings",
        "type": "object",
        "description": "Stores user-specific settings.",
        "properties": {
            "id": { "type": "string" },
            "weeklyStudyGoal": { "type": "number", "description": "The user's weekly study goal in hours." },
            "lastWeekGoalMetShown": { "type": "string", "format": "date-time", "description": "The last time the weekly goal met notification was shown." }
        },
        "required": ["id", "weeklyStudyGoal"]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": { "$ref": "#/entities/User" },
      "description": "Stores user profile information."
    },
    "/users/{userId}/subjects": {
        "schema": {"$ref": "#/entities/Subject"},
        "description": "Sub-collection for subjects belonging to a user."
    },
    "/users/{userId}/exams": {
        "schema": {"$ref": "#/entities/Exam"},
        "description": "Sub-collection for exams belonging to a user."
    },
     "/users/{userId}/examCategories": {
        "schema": {"$ref": "#/entities/ExamCategory"},
        "description": "Sub-collection for exam categories belonging to a user."
    },
    "/users/{userId}/resources": {
        "schema": {"$ref": "#/entities/Resource"},
        "description": "Sub-collection for resources belonging to a user."
    },
    "/users/{userId}/tasks": {
        "schema": {"$ref": "#/entities/StudyTask"},
        "description": "Sub-collection for daily study tasks for a user."
    },
    "/users/{userId}/settings": {
        "schema": {"$ref": "#/entities/UserSettings"},
        "description": "Stores user-specific settings like weekly goals."
    }
  }
}
